<div class="header-panel">
  <div class="ui-g container nav-bar-wrapper">
    <div class="ui-g-6">
      <div class="ui-g-3 max-width-1 truncate-text-custom">
        <span class="txt">Kênh Người Bán</span>
      </div>
      <div class="ui-g-3 max-width-1 truncate-text-custom">
        <span class="txt">Tải ứng dụng</span>
      </div>
      <div class="ui-g-3 max-width-1 truncate-text-custom">
        <div class="ui-g-6 ui-g-nopad text-wrapper">
          <span class="txt">Kết nối</span>
        </div>
        <div class="ui-g-6 ui-g-nopad icon-wrapper">
          <i class="pi pi-share pi-share-alt icon-color" style="font-size: 1em"></i>
        </div>
      </div>
    </div>
    <div class="ui-g-6">
      <div class="ui-g-4 truncate-text-custom" *ngIf="!currentUser">
        <div class="ui-g-6 no-padding text-wrapper sign-in cursor-pointer" data-toggle="modal" data-target="#modalRegisterForm">
          <span class="txt">Đăng ký</span>
        </div>
        <div class="ui-g-6 no-padding text-wrapper cursor-pointer" data-toggle="modal" data-target="#modalLoginForm">
          <span class="txt">Đăng nhập</span>
        </div>
      </div>
      <div class="ui-g-5 truncate-text-custom" *ngIf="currentUser">
        <div class="ui-g-6 no-padding text-wrapper cursor-pointer truncate" [routerLink]="['/admin/user']" *ngIf="currentUser.profile != 'admin'">
          <span class="txt">{{currentUser.userName}}</span>
        </div>
        <div class="ui-g-6 no-padding text-wrapper cursor-pointer truncate" [routerLink]="['/admin']" *ngIf="currentUser.profile == 'admin'">
          <span class="txt">{{currentUser.userName}}</span>
        </div>
        <div class="ui-g-6 no-padding text-wrapper cursor-pointer" (click)="logout()">
          <span class="txt">Đăng xuất</span>
        </div>
      </div>
      <div class="ui-g-5 cursor-pointer truncate-text-custom" *ngIf="currentUser" [routerLink]="['/facture']">
        <span class="txt">Theo dõi đơn hàng</span>
      </div>
    </div>
  </div>
  <div class="ui-g container header-with-search-wrapper">
    <div class="ui-g-2 height-100 no-padding" [routerLink]="['/home']">
      <div class="ui-g-8 shop-icon">
        <div class="ui-g-5">
          <i class="pi pi-home size-icon-2 icon-color"></i>
        </div>
        <div class="ui-g-6 shop-name">
          <span class="txt">TTShop</span>
        </div>
      </div>
    </div>
    <div class="ui-g-8 height-100">
      <div class="ui-g-11 height-100 no-padding global-search-wrapper">
        <input class="global-search" placeholder="Tìm thương hiệu, sản phẩm và tên shop" type="text" autocomplete="off">
      </div>
      <div class="ui-g-1 height-100 no-padding search-icon-group">
        <div class="search-icon-wrapper">
          <i class="pi pi-search icon-color"></i>
        </div>
      </div>
    </div>
    <div class="ui-g-2 height-100 cursor-pointer" [routerLink]="['/cart']">
      <i class="pi pi-shopping-cart icon-color"></i>
    </div>
    <div class="shopee-cart-number-badge" *ngIf="isExistOrder">
      <span class="" [textContent]=numberOfOrder></span>
    </div>
  </div>
  <div class="ui-g container header-list-category">
    <div class="height-4 no-padding category-wrapper">
      <div class="element" *ngFor="let post of categories | async">
        <span class="txt" (click)="getProductByCategory(post.categoryCode)" [textContent]=post.categoryName></span>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Đăng nhập</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-3">
          <i class="fas fa-envelope prefix grey-text"></i>
          <input type="email" id="defaultForm-email" [(ngModel)]="user.userEmail" class="form-control validate">
          <label data-error="wrong" data-success="right" for="defaultForm-email">Email của bạn</label>
        </div>

        <div class="md-form mb-3">
          <i class="fas fa-lock prefix grey-text"></i>
          <input type="password" id="defaultForm-pass" [(ngModel)]="user.password" class="form-control validate">
          <label data-error="wrong" data-success="right" for="defaultForm-pass">Mật khẩu</label>
        </div>

        <div class="md-form mb-3">
          <i class="fas fa-lock prefix grey-text"></i>
          <button data-error="wrong" data-success="right" for="defaultForm-pass" (click)="resetPass()">Quên mật khẩu</button>
        </div>

      </div>
      <div class="modal-footer d-flex justify-content-center">
        <button class="btn btn-default" data-dismiss="modal" (click)="login()">Đăng nhập</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade no-overflow" id="modalRegisterForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Đăng ký tài khoản</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="container">
        <div class="row">
          <form class="form-custom" [formGroup]="form" (ngSubmit)="createUser()">
            <div class="form-group">
              <label class="label-custom">Tên</label>
              <input type="text" formControlName="userName" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.userName.errors }" />
              <div *ngIf="submitted && f.userName.errors" class="invalid-feedback">
                <div *ngIf="f.userName.errors.required">Tên bạn không được để trống</div>
              </div>
            </div>
            <div class="form-group">
              <label class="label-custom">Số điện thoại</label>
              <input type="text" formControlName="phoneNumber" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.phoneNumber.errors }" />
              <div *ngIf="submitted && f.phoneNumber.errors" class="invalid-feedback">
                <div *ngIf="f.phoneNumber.errors.required">Tên bạn không được để trống</div>
              </div>
            </div>
            <div class="form-group">
              <label class="label-custom">Địa chỉ Email</label>
              <input type="text" formControlName="userEmail" class="form-control" autocomplete="off" [ngClass]="{ 'is-invalid': submitted && f.userEmail.errors }" />
              <div *ngIf="submitted && f.userEmail.errors" class="invalid-feedback">
                <div *ngIf="f.userEmail.errors.required">Địa chỉ Email không được để trống</div>
                <div *ngIf="f.userEmail.errors.userEmail">Địa chỉ Email chưa đúng</div>
              </div>
            </div>
            <div class="form-group">
              <label class="label-custom">Mật khẩu</label>
              <input type="password" formControlName="password" class="form-control" autocomplete="off" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
              <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                <div *ngIf="f.password.errors.required">Mật khẩu không được để trống</div>
                <div *ngIf="f.password.errors.minlength">Mật khẩu ít nhất có 6 ký tự</div>
              </div>
            </div>
            <div class="form-group">
              <label class="label-custom">Chọn loại người dùng</label>
              <select class="browser-default custom-select" formControlName="profile" [ngClass]="{ 'is-invalid': submitted && f.profile.errors }">
                <option selected>Người dùng</option>
                <option value="1">Người bán</option>
              </select>
              <div *ngIf="submitted && f.profile.errors" class="invalid-feedback">
                <div *ngIf="f.profile.errors.required">Trường này không được trống</div>
              </div>
            </div>
            <div class="form-group">
              <label class="label-custom">Đường phố</label>
              <input type="text" formControlName="street" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.street.errors }" />
              <div *ngIf="submitted && f.street.errors" class="invalid-feedback">
                <div *ngIf="f.street.errors.required">Trường này không được trống</div>
              </div>
            </div>
            <div class="form-group">
              <label class="label-custom">Quận</label>
              <input type="text" formControlName="county" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.county.errors }" />
              <div *ngIf="submitted && f.county.errors" class="invalid-feedback">
                <div *ngIf="f.county.errors.required">Trường này không được trống</div>
              </div>
            </div>
            <div class="form-group">
              <label class="label-custom">Thành phố</label>
              <input type="text" formControlName="city" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.city.errors }" />
              <div *ngIf="submitted && f.city.errors" class="invalid-feedback">
                <div *ngIf="f.city.errors.required">Trường này không được trống</div>
              </div>
            </div>
            <div class="form-group">
              <label class="label-custom">Mã postcode</label>
              <input type="text" formControlName="postcode" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.postcode.errors }" />
              <div *ngIf="submitted && f.postcode.errors" class="invalid-feedback">
                <div *ngIf="f.postcode.errors.required">Trường này không được trống</div>
              </div>
            </div>
            <div class="form-group">
              <label class="label-custom">Xã/Phường</label>
              <input type="text" formControlName="wards" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.wards.errors }" />
              <div *ngIf="submitted && f.wards.errors" class="invalid-feedback">
                <div *ngIf="f.wards.errors.required">Trường này không được trống</div>
              </div>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer d-flex justify-content-center">
        <button class="btn btn-deep-orange" (click)="createUser()">Sign up</button>
      </div>
    </div>
  </div>
</div>



